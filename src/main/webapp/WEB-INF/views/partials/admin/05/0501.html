<div class="col-md-12" ng-controller="roleCtrl" data-ng-init="init()" style="height: 800px">
    <!--<admin-search-box search-callback="search" admin-date-types="adminDateTypes" date-flag="dateFlag" menu-context="menuContext"></admin-search-box>-->
    <div class="page-title obj-clear">
        <h1 class="pull-left">{{menuContext.menu.name}}</h1>
        <div class="pagenation">
            {{menuContext.category.name}} <span>&gt;</span> {{menuContext.menu.name}}
        </div>
    </div>
    <div class="search-select-area obj-clear">
        <div class="select-box">
            <label for="searchRoleNm" class="text-check">권한명</label>
            <input id="searchRoleNm" class="select" type="text" data-ng-model="searchRoleNm" />
        </div>
        <div class="select-box">
            <label for="searchRoleType" class="text-check ng-binding">권한상태</label>
            <select id="searchRoleType" class="select ng-pristine ng-valid" data-ng-model="searchRoleType" data-ng-change="changeRoleType()" data-ng-options="roleType.name for roleType in roleTypes">
            </select>
        </div>
        <a href="javascript:void(0);" class="btn btn-search pull-left" data-ng-click="searchRole()">조회</a>
    </div>
    <div class="row mar-l5 mar-r5 mar-t5 mar-b5">
        <div class="col-md-7">
            <div class="mar-l5 mar-r5">
                <div class="page-title">
                    <h2>권한 정보</h2>
                </div>
                <div id="roleContainer"></div>
                <div class="mar-t10 pull-right">
                    <button class="btn btn-warning basic" id="createRoleData" data-ng-click="activeAddRoleModal();">신규</button>
                    <button class="btn btn-warning basic" id="saveRoleData" data-ng-click="saveRoleData();">수정</button>
                </div>
            </div>
        </div>
        <div class="col-md-5">
            <div class="mar-l5 mar-r5">
                <div class="page-title">
                    <h2>권한 메뉴</h2>
                </div>
                <div id="menuContainer"></div>
                <div class="mar-t10 pull-right">
                    <button class="btn btn-warning basic" id="viewMenuData" data-ng-click="activeRoleUserModal();">사용자 보기</button>
                    <button class="btn btn-warning basic" id="saveMenuData" data-ng-click="saveMenuData();">저장</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 권한 신규 모달 -->
    <div id="addRoleModal" class="modal fade custom-modal in" tabindex="-1" role="dialog" aria-labelledby="addRoleModal" aria-hidden="true">
        <div class="modal-dialog">
            <section class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h1 class="modal-title" id="addRoleModalLabel">권한 등록</h1>
                </div>
                <div class="modal-body">
                    <div class="form-table mar-t10">
                        <form role="form" class="menu-management-form mar-t10">
                            <table class="table form-type">
                                <colgroup>
                                    <col style="width:20%;">
                                    <col style="width:80%;">
                                </colgroup>
                                <tbody>
                                <tr>
                                    <th scope="row">권한 ID</th>
                                    <td>
                                        <input type="text" class="form-control form-inline" style="width:168px;" title="권한 ID 입력" placeholder="권한 ID 입력(숫자)" data-ng-model="addRoleForm.id"/>
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">권한명</th>
                                    <td>
                                        <input type="text" class="form-control form-inline" style="width:200px;" title="권한명 입력" placeholder="권한명 입력" data-ng-model="addRoleForm.name"/>
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">권한 설명</th>
                                    <td>
                                        <input type="text" class="form-control form-inline" style="width:300px;" title="권한 설명 입력" placeholder="권한 설명 입력" data-ng-model="addRoleForm.description"/>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </form>
                    </div>
                    <div class="obj-section">
                        <button class="btn btn-danger basic text-right" data-ng-click="addRole()">등록</button>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- 권한별 메뉴 보기 모달 -->
    <div id="roleUserModal" class="modal fade custom-modal in" tabindex="-1" role="dialog" aria-labelledby="roleUserModal" aria-hidden="true">
        <div class="modal-dialog">
            <section class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h1 class="modal-title" id="roleUserModallLabel">권한별 사용자</h1>
                </div>
                <div class="modal-body">
                    <div class="data-table hover-table" style="margin-top:10px;">
                        <table class="table">
                            <colgroup>
                                <col style="width:25%;">
                                <col style="width:25%;">
                                <col style="width:40%;">
                                <col style="width:10%;">
                            </colgroup>
                            <thead>
                            <tr>
                                <th>권한명</th>
                                <th>사용자</th>
                                <th>부서</th>
                                <th>사용자구분</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr data-ng-repeat="user in comRoleUsers">
                                <td>{{user.name}}</td>
                                <td>{{user.loginidUserNm}}</td>
                                <td>{{user.orgNm}}</td>
                                <td>{{user.userType}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
        </div>
    </div>
    <!-- 권한별 메뉴 보기 모달 -->
</div>
<script type="text/javascript" src="resources/app/admin/role/roleCtrl.js"></script>
