<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.skplanet.pandora.repository.oracle.OracleRepository">

	<select id="selectMergedMember" parameterType="map" resultType="com.skplanet.pandora.model.Member">
		SELECT *
		FROM (
			SELECT IN_SQ.*
				 , ROWNUM AS RNUM
			FROM (
				SELECT MBR_ID
					 , OCBCOM_LGN_ID
					 , CI_NO
					 , MBR_KOR_NM
					 , CARD_NO
					 , SYW_MBR_ID
					 , EVS_MBR_ID
				FROM MBRT_MBR_ID_MST
				WHERE ${uploadProgress.columnName} IN (SELECT COLUMN1 FROM TMP_${uploadProgress.pageId}_${uploadProgress.username})
			) IN_SQ
			WHERE  ROWNUM &lt;= ${offset + limit}
		)
		WHERE RNUM &gt; ${offset}
	</select>
	<select id="selectMergedMember" parameterType="map" resultType="com.skplanet.pandora.model.Member" databaseId="hsql">
		SELECT MBR_ID
			 , OCBCOM_LGN_ID
			 , CI_NO
			 , MBR_KOR_NM
			 , CARD_NO
			 , SYW_MBR_ID
			 , EVS_MBR_ID
		FROM MBRT_MBR_ID_MST
		WHERE ${uploadProgress.columnName} IN (SELECT COLUMN1 FROM TMP_${uploadProgress.pageId}_${uploadProgress.username})
		LIMIT ${offset}, ${limit}
	</select>

</mapper>
