<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.skplanet.bisportal.repository.mstr.MstrBipRepository">
    <select id="getWeeks" parameterType="String" resultType="MstrWeek">
        SELECT WK_PERD_CD
             , WK_PERD_NM
             , WK_ST_DT
             , WK_ED_DT
             , TO_CHAR(TO_DATE(WK_ST_DT, 'YYYYMMDD'), 'IYYYIW') AS WK_DT
          FROM COM_CD_BASE_WEEK_PERD
         WHERE #{stnDate} BETWEEN WK_ST_DT AND WK_ED_DT
    </select>
</mapper>
